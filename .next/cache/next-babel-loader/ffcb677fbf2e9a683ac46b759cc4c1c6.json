{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nuri\\\\Desktop\\\\development\\\\pages\\\\new.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useContext } from 'react';\nimport { Box } from 'reflexbox';\nimport Head from 'next/head';\nimport styled from '@emotion/styled';\nimport Router from 'next/router';\nimport { Label, Input, Textarea } from '@rebass/forms';\nimport axios from 'axios';\nimport { UserContext } from '../context/UserContext';\n\nconst New = () => {\n  const {\n    API_URL\n  } = process.env;\n  const {\n    0: title,\n    1: setTitle\n  } = useState('');\n  const {\n    0: description,\n    1: setDescription\n  } = useState('');\n  const {\n    0: error,\n    1: setError\n  } = useState('');\n  const {\n    user\n  } = useContext(UserContext);\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n\n    if (!user) {\n      setError('Please log in first');\n      return;\n    }\n\n    if (!title) {\n      setError('Please enter a title');\n      return;\n    }\n\n    if (!description) {\n      setError('Please enter the description');\n      return;\n    }\n\n    axios.post(`${API_URL}/posts`, {\n      post_title: title,\n      description: description\n    }, {\n      headers: {\n        'Authorization': `Bearer ${user.jwt}`\n      }\n    }).then(function (response) {\n      console.log(response);\n      Router.back();\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  return __jsx(Box, {\n    variant: \"formContainer\",\n    as: \"form\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, \"Add a new Post\")), __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, \"Create a Post\"), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }), __jsx(Label, {\n    htmlFor: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, \"Title\"), __jsx(Input, {\n    id: \"title\",\n    name: \"title\",\n    type: \"text\",\n    value: title,\n    onChange: event => setTitle(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 19\n    }\n  }), __jsx(Label, {\n    htmlFor: \"description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, \"Description\"), __jsx(Textarea, {\n    id: \"description\",\n    name: \"description\",\n    type: \"text\",\n    value: description,\n    onChange: event => setDescription(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }), error && __jsx(\"h2\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 31\n    }\n  }, __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 59\n    }\n  }), error), __jsx(ButtonStyled, {\n    type: \"submit\",\n    variant: \"submitButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, \"Post\"));\n};\n\nconst ButtonStyled = styled.button`\n    border: 1px solid black;\n    height: 30px;\n    width: 70px;\n    font-weight: bold;\n    margin-top: 20px;\n`;\nexport default New;","map":{"version":3,"sources":["C:/Users/nuri/Desktop/development/pages/new.js"],"names":["useState","useContext","Box","Head","styled","Router","Label","Input","Textarea","axios","UserContext","New","API_URL","process","env","title","setTitle","description","setDescription","error","setError","user","handleSubmit","event","preventDefault","post","post_title","headers","jwt","then","response","console","log","back","catch","target","value","color","ButtonStyled","button"],"mappings":"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","sourcesContent":["import { useState, useContext } from 'react'\r\nimport { Box } from 'reflexbox'\r\nimport Head from 'next/head'\r\n\r\nimport styled from '@emotion/styled'\r\nimport Router from 'next/router'\r\nimport { Label, Input, Textarea } from '@rebass/forms'\r\nimport axios from 'axios'\r\nimport { UserContext } from '../context/UserContext'\r\n\r\nconst New = () => {\r\n    const { API_URL } = process.env\r\n\r\n    const [title, setTitle] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [error, setError] = useState('')\r\n    const { user } = useContext(UserContext)\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n\r\n        if(!user){\r\n            setError('Please log in first')\r\n            return\r\n        }\r\n\r\n        if(!title){\r\n            setError('Please enter a title')\r\n            return\r\n        }\r\n\r\n        if(!description){\r\n            setError('Please enter the description')\r\n            return\r\n        }\r\n    \r\n        axios.post(`${API_URL}/posts`, {\r\n            post_title: title,\r\n            description: description,\r\n          },\r\n          {\r\n            headers:{\r\n                'Authorization': `Bearer ${user.jwt}`\r\n            }\r\n          })\r\n          .then(function (response) {\r\n            console.log(response);\r\n            Router.back();\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          });\r\n    }\r\n\r\n    return(\r\n        <Box variant = \"formContainer\" as = \"form\" onSubmit = {handleSubmit}>\r\n            <Head>\r\n                <title>Add a new Post</title>\r\n            </Head>\r\n            <h2>Create a Post</h2>\r\n            <br/>\r\n            <Label htmlFor='title'>Title</Label>\r\n                <Input\r\n                    id='title'\r\n                    name='title'\r\n                    type='text'\r\n                    value = {title}\r\n                    onChange = {(event) => setTitle(event.target.value)}\r\n                /><br />\r\n                <Label htmlFor='description'>Description</Label>\r\n                    <Textarea\r\n                        id='description'\r\n                        name='description'\r\n                        type='text'\r\n                        value = {description}\r\n                        onChange = {(event) => setDescription(event.target.value)}\r\n                    />\r\n                    {error && <h2 style = {{color:'red'}}><br/>{error}</h2>}\r\n                <ButtonStyled type = \"submit\" variant = \"submitButton\">Post</ButtonStyled>\r\n        </Box>\r\n    )\r\n}\r\n\r\n\r\nconst ButtonStyled = styled.button`\r\n    border: 1px solid black;\r\n    height: 30px;\r\n    width: 70px;\r\n    font-weight: bold;\r\n    margin-top: 20px;\r\n`\r\n\r\nexport default New"]},"metadata":{},"sourceType":"module"}